# 未來開發藍圖

本文件概述了為增強 Skin Retoucher Pro 應用程式功能而規劃的潛在新功能與改進。

## 已實現的核心功能

-   **高低頻分離**: 透過高斯模糊分離紋理與顏色，實現非破壞性修飾。
-   **GPU 加速**: 所有影像處理都在 WebGL 中完成，確保即時、流暢的參數調整。
-   **膚色遮罩**: 透過 HSV 色彩空間分析，精準選取皮膚區域。
-   **全解析度儲存**: 無論視窗縮放狀態如何，始終以原始解析度儲存影像。
-   **批次處理**: 使用目前設定，自動處理整個資料夾的圖片。

## 高優先級功能

### 1. 🖌️ 修復與仿製筆刷 (Healing & Cloning Brush)
-   **功能描述**: 一種基於筆刷的工具，用於移除如痘痘、斑點或雜亂毛髮等微小瑕疵。此工具將智慧地取樣周圍的紋理與色調，以無縫地混合修正區域。
-   **技術實現**: 需要一個「乒乓」(ping-pong) 幀緩衝區系統來迭代地應用筆刷筆觸，並開發新的 GLSL 著色器來處理紋理取樣與混合邏輯。

### 2. ✨ 加亮與加深工具 (Dodge & Burn Tool)
-   **功能描述**: 非破壞性的筆刷工具，用於手動提亮 (Dodge) 或壓暗 (Burn) 影像的特定區域，以增強輪廓與深度。
-   **技術實現**: 利用與修復筆刷相同的乒乓幀緩衝區系統，並應用一個簡單的乘法顏色調整著色器。

## 中優先級功能

### 3. 🎨 進階色彩校正 (Advanced Color Correction)
-   **功能描述**: 用於校正和統一臉部不同區域膚色的工具，例如減少紅斑、中和黃疸等。
-   **技術實現**: 可以作為最終合成著色器中的一個額外通道來實現，在 HSV/HSL 色彩空間中對特定顏色範圍的像素執行轉換。

### 4. 📦 批次處理功能增強 (Batch Processing Enhancements)
-   **功能描述**: 在現有基礎上，擴充批次處理功能，提供更多彈性與控制。
-   **未來規劃**:
    -   **支援更多格式**: 新增對 HEIC, TIFF, DNG 等專業格式的讀取支援。
    -   **自訂命名規則**: 允許使用者定義輸出檔案的命名範本，例如添加前綴、後綴或日期。
    -   **處理報告**: 在所有圖片處理完成後，生成一個簡單的報告，總結成功、失敗的檔案數量及可能發生的錯誤。

### 5. ↩️ 復原/重做歷史記錄 (Undo/Redo History)
-   **功能描述**: 實現一個狀態管理系統，以追蹤使用者的操作（例如，滑桿調整、顏色選擇等），允許使用者復原和重做他們的變更。
-   **技術實現**: 需要建立一個「歷史堆疊」(一個儲存狀態物件的陣列)，這將會是一個重大的架構性變更。
